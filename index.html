<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeekersDen - Embedded Systems Training</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Style for the active sub-tab (What you will learn / Who is it for) */
        .tab-active {
            border-color: #F97316;
            /* Orange-500 */
            color: #F97316;
            background-color: #FFF7ED;
            /* Orange-50 */
        }

        /* Style for the active main module tab (Module 1, Module 2, etc.) */
        .module-tab-active {
            background-color: #F97316;
            color: white;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }

        .nav-active {
            color: #F97316 !important;
            font-weight: 700 !important;
        }

        [data-aos] {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        [data-aos].is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .offering-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .offering-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        /* Custom styles for select dropdown arrow */
        .select-wrapper {
            position: relative;
        }

        .select-wrapper::after {
            content: '\f078';
            /* Font Awesome down arrow */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #6b7280;
            /* gray-500 */
        }

        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: none;
            padding-right: 2.5rem;
            /* Make space for arrow */
        }

        /* *** NOTE: Removed unused CSS block for DaySchedule/Cal.id *** */
    </style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- *** Logo Placeholder *** -->
            <div class="w-24"> <a href="#"></a>
            </div>
            <!-- Desktop Nav -->
            <div id="desktop-nav" class="hidden md:flex items-center space-x-6">
                <a href="#home" class="text-gray-600 hover:text-orange-500">Home</a>
                <a href="#courses" class="text-gray-600 hover:text-orange-500">Course</a>
                <a href="#services" class="text-gray-600 hover:text-orange-500">Services</a>
                <a href="#instructor" class="text-gray-600 hover:text-orange-500">Instructor</a>
                <a href="#faq" class="text-gray-600 hover:text-orange-500">FAQ</a>
                <a href="#contact" class="text-gray-600 hover:text-orange-500">Contact</a>
            </div>
            <div class="w-auto">
                <a href="downloads/seekersden-complete-syllabus.pdf" target="_blank"
                    class="hidden md:block bg-orange-500 text-white font-semibold px-5 py-2 rounded-lg hover:bg-orange-600 transition duration-300">Download
                    Syllabus</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-600 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7">
                    </path>
                </svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#home" class="block py-2 text-gray-600 hover:text-orange-500">Home</a>
            <a href="#courses" class="block py-2 text-gray-600 hover:text-orange-500">Course</a>
            <a href="#services" class="block py-2 text-gray-600 hover:text-orange-500">Services</a>
            <a href="#instructor" class="block py-2 text-gray-600 hover:text-orange-500">Instructor</a>
            <a href="#faq" class="block py-2 text-gray-600 hover:text-orange-500">FAQ</a>
            <a href="#contact" class="block py-2 text-gray-600 hover:text-orange-500">Contact</a>
            <a href="downloads/seekersden-complete-syllabus.pdf" target="_blank"
                class="block mt-2 bg-orange-500 text-white font-semibold text-center px-5 py-2 rounded-lg hover:bg-orange-600 transition duration-300">Download
                Syllabus</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="bg-white">
            <div class="container mx-auto px-6 py-12 md:py-16 text-center pt-16 md:pt-20">
                <!-- *** Logo added back to Hero *** -->
                <img src="assets/seekersden-logo.png" alt="SeekersDen Logo" class="h-32 md:h-40 w-auto mx-auto mb-8"
                    data-aos>
                <h1 data-aos class="text-4xl md:text-6xl font-bold text-gray-800 leading-tight">
                    The Path to a Full Stack IoT Architect
                </h1>
                <p data-aos class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
                    We're not just a course; we are a career trajectory. Our "Eagle's Tour" of the embedded world gives
                    you the hands-on experience of the complete landscape, from bare metal to the cloud.
                </p>
                <a data-aos href="#courses"
                    class="mt-8 inline-block bg-orange-500 text-white font-bold px-8 py-4 rounded-lg text-lg hover:bg-orange-600 transition duration-300">
                    Explore The Trajectory
                </a>
            </div>
        </section>

        <!-- Courses Section -->
        <section id="courses" class="py-20 pt-24" data-aos>
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800">Your Learning Trajectory (Self-Paced)</h2>
                    <p class="mt-2 text-lg text-gray-600">Our 4-module journey. Start with the workbook, then get the
                        hardware to build the projects.</p>
                </div>

                <div class="bg-white rounded-2xl shadow-lg lg:flex lg:space-x-8 p-8">
                    <!-- Module Selection -->
                    <div class="lg:w-1/4 mb-8 lg:mb-0">
                        <ul id="module-tabs" class="flex flex-wrap lg:flex-col gap-2">
                            <!-- Module tabs will be inserted here by JS -->
                        </ul>
                    </div>

                    <!-- Course Content -->
                    <div id="course-content-wrapper" class="lg:w-3/4">
                        <!-- Content will be inserted here by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-20 pt-24 bg-white" data-aos>
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800">Personalized Guidance & Training</h2>
                    <p class="mt-2 text-lg text-gray-600">Get expert help, online or in-person, whenever you need it.
                    </p>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-8 border border-gray-100 max-w-5xl mx-auto">
                    <!-- Service Tabs -->
                    <div class="border-b border-gray-200">
                        <div class="flex flex-wrap -mb-px gap-x-4">
                            <button class="service-tab-button px-4 py-2 text-sm font-semibold rounded-t-md tab-active"
                                data-tab="online-consult">
                                Online Consultancy
                            </button>
                            <button
                                class="service-tab-button px-4 py-2 text-sm font-semibold rounded-t-md text-gray-600 hover:bg-orange-50"
                                data-tab="online-full">
                                Online Training
                            </button>
                            <button
                                class="service-tab-button px-4 py-2 text-sm font-semibold rounded-t-md text-gray-600 hover:bg-orange-50"
                                data-tab="onsite">
                                Onsite Training
                            </button>
                            <button
                                class="service-tab-button px-4 py-2 text-sm font-semibold rounded-t-md text-gray-600 hover:bg-orange-50"
                                data-tab="offline-full">
                                Offline Training
                            </button>
                        </div>
                    </div>

                    <div class="mt-8">
                        <!-- 1. Online Consultancy Content -->
                        <div class="service-tab-content" data-content="online-consult">
                            <h3 class="text-3xl font-bold text-gray-800">Online Consultancy Session</h3>
                            <p class="text-lg text-gray-600 mt-4 mb-6">
                                Book a 1-hour, small-group (max 4 students) online session with your instructor. This is
                                the perfect way to get personalized guidance, ask in-depth questions, review your code,
                                or get career advice when you're stuck.
                            </p>

                            <!-- 
                              *** CAL.ID BUTTON (UPDATED) ***
                              This button now links to your Cal.id booking page.
                            -->
                            <a href="https://cal.id/seekersden/1-hour-online-consultancy" target="_blank"
                                class="inline-block bg-green-700 text-white font-semibold px-6 py-3 rounded-lg hover:bg-green-800 transition duration-300">
                                Book a 1-Hour Session
                            </a>
                        </div>

                        <!-- 2. Online Full Training (NEW) -->
                        <div class="service-tab-content hidden" data-content="online-full">
                            <h3 class="text-3xl font-bold text-gray-800">Online Full Training (Live)</h3>
                            <p class="text-lg text-gray-600 mt-4 mb-6">
                                Join a complete, instructor-led online course. This is not self-paced; you will join a
                                live virtual classroom with a small group of students, following a structured schedule
                                from start to finish. This is the most comprehensive way to learn the entire "Eagle's
                                Tour" from home.
                            </p>
                            <!-- *** MODIFICATION: Changed to automated booking button *** -->
                            <a href="https://cal.id/seekersden/online-full-training-live" target="_blank"
                                class="inline-block bg-green-700 text-white font-semibold px-6 py-3 rounded-lg hover:bg-green-800 transition duration-300">
                                Register Now (Full Course)
                            </a>
                        </div>

                        <!-- 3. Onsite Training (NEW) -->
                        <div class="service-tab-content hidden" data-content="onsite">
                            <h3 class="text-3xl font-bold text-gray-800">Onsite Corporate Training</h3>
                            <p class="text-lg text-gray-600 mt-4 mb-6">
                                Accelerate your team's growth with a private, onsite training bootcamp delivered at your
                                company's office. We can customize the curriculum from our four modules to fit your
                                team's specific projects and skill gaps.
                            </p>
                            <!-- *** MODIFICATION: Changed to orange button *** -->
                            <a href="#contact"
                                class="inline-block bg-orange-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-orange-600 transition duration-300">
                                Inquire About Onsite Training
                            </a>
                        </div>

                        <!-- 4. Offline Training Content (Renamed & Updated Form) -->
                        <div class="service-tab-content hidden" data-content="offline-full">
                            <h3 class="text-3xl font-bold text-gray-800">Full In-Person Training</h3>
                            <p class="text-lg text-gray-600 mt-4 mb-6">
                                We are gauging interest for full, in-person training cohorts in <strong
                                    class="font-semibold text-gray-800">Bengaluru</strong> and <strong
                                    class="font-semibold text-gray-800">Mangaluru</strong>. These multi-week, intensive
                                programs are designed to take you from fundamentals to architect-level in a
                                professional, hands-on classroom environment.
                            </p>

                            <form id="offline-interest-form"
                                class="bg-gray-100 p-6 rounded-lg border border-gray-200 space-y-4">
                                <p class="font-semibold text-lg text-gray-800">Register your interest:</p>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Location Column -->
                                    <div class="space-y-3">
                                        <p class="font-semibold text-gray-800">Preferred Location:</p>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_location" value="bengaluru"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Bengaluru</strong>
                                            </span>
                                        </label>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_location" value="mangaluru"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Mangaluru</strong>
                                            </span>
                                        </label>
                                    </div>
                                    <!-- Timing Column -->
                                    <div class="space-y-3">
                                        <p class="font-semibold text-gray-800">Preferred Timing:</p>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_timing" value="weekdays-day"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Weekdays Daytime</strong>
                                            </span>
                                        </label>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_timing" value="weekdays-eve"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Weekdays Evening</strong>
                                            </span>
                                        </label>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_timing" value="weekends-day"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Weekends Daytime</strong>
                                            </span>
                                        </label>
                                        <label
                                            class="flex items-center space-x-3 p-3 bg-white rounded-lg border hover:border-orange-500 transition">
                                            <input type="radio" name="offline_timing" value="weekends-eve"
                                                class="form-radio text-orange-500">
                                            <span class="text-gray-700">
                                                <strong class="font-semibold text-gray-800">Weekends Evening</strong>
                                            </span>
                                        </label>
                                    </div>
                                </div>

                                <hr class="border-gray-300">

                                <div>
                                    <label for="email_interest" class="block font-semibold text-gray-800 mb-2">Your
                                        Email:</label>
                                    <input type="email" id="email_interest" name="email"
                                        placeholder="Enter your email to be notified"
                                        class="block w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                                </div>

                                <!-- *** MODIFICATION: Changed to orange button *** -->
                                <button type="submit"
                                    class="w-full bg-orange-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-orange-600 transition duration-300">
                                    Submit Interest
                                </button>
                                <div id="form-message" class="hidden mt-4 p-4 rounded-lg text-center"></div>
                                <p class="text-xs text-center text-gray-500">Note: This is not a booking. We will
                                    contact you if a batch is formed.</p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- *** MODIFICATION: Moved Instructor Section UP *** -->
        <!-- Instructor Section -->
        <section id="instructor" class="py-20 bg-white pt-24" data-aos>
            <div class="container mx-auto px-6">
                <div
                    class="md:flex md:items-center md:space-x-12 bg-white p-8 md:p-12 rounded-2xl shadow-lg border border-gray-100">
                    <div class="md:w-1/3 text-center">
                        <img src="assets/instructor-photo.png" alt="Instructor Photo"
                            class="w-48 h-48 rounded-full mx-auto shadow-md">
                        <h3 class="mt-6 text-2xl font-bold">Krishnananda K Hegde</h3>
                        <p class="text-gray-500">Embedded Systems Architect</p>
                    </div>
                    <div class="md:w-2/3 mt-8 md:mt-0">
                        <h2 class="text-3xl font-bold text-gray-800">Your Guide for the "Eagle's Tour"</h2>
                        <p class="mt-4 text-lg text-gray-600">
                            With over 20 years of experience, I've designed this program to give you the high-level
                            landscape view of the entire embedded world. My goal is to bridge the gap between academic
                            theory and the practical, architectural thinking required to be a high-performing engineer.
                        </p>
                        <p class="mt-4 text-lg text-gray-600">
                            We won't just learn <strong class="font-semibold text-gray-800">how</strong> to use a tool;
                            we'll learn <strong class="font-semibold text-gray-800">why</strong> it exists and where it
                            fits in the larger system.
                        </p>
                        <p class="mt-4 text-lg text-gray-600">
                            This is the key to moving from a coder to a true architect, ready to tackle any challenge.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- *** MODIFICATION: Moved FAQ Section DOWN *** -->
        <!-- FAQ Section -->
        <section id="faq" class="py-20 pt-24" data-aos>
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800">Frequently Asked Questions</h2>
                    <p class="mt-2 text-lg text-gray-600">Have a question? We've got answers.</p>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    <div class="space-y-4" id="faq-container">
                        <!-- FAQ items will be inserted here by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 pt-24" data-aos>
            <div class="container mx-auto px-6"> <!-- Removed text-center -->
                <div class="text-center mb-8"> <!-- Added text-center here and mb-8 -->
                    <h2 class="text-4xl font-bold text-gray-800">Have More Questions?</h2>
                    <!-- *** MODIFICATION: Merged email into text *** -->
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">
                        Please use the form below or reach out to us at:
                        <span
                            class="inline-flex items-center gap-2 bg-gray-100 px-3 py-1 rounded-lg border border-gray-200 text-base align-middle mx-1">
                            <!-- *** MODIFICATION: Changed text color to orange *** -->
                            <span id="email-text"
                                class="font-semibold text-orange-600 select-all cursor-text">info@seekersden.in</span>
                            <button id="copy-email-btn"
                                class="p-1 text-gray-600 hover:text-orange-500 hover:bg-gray-200 rounded transition duration-200"
                                title="Copy email address">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                                    </path>
                                </svg>
                            </button>
                        </span>
                    </p>
                </div>

                <!-- *** MODIFICATION: New Contact Form Layout *** -->
                <div class="bg-white rounded-2xl shadow-lg p-8 md:p-12 border border-gray-100 max-w-4xl mx-auto">
                    <form id="contact-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Left Column -->
                            <div class="space-y-6">
                                <div>
                                    <label for="contact_name" class="block font-semibold text-gray-800 mb-2">Your
                                        Name:</label>
                                    <input type="text" id="contact_name" name="contact_name"
                                        placeholder="Enter your name"
                                        class="block w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                                        required>
                                </div>
                                <div>
                                    <label for="contact_email" class="block font-semibold text-gray-800 mb-2">Your
                                        Email:</label>
                                    <input type="email" id="contact_email" name="contact_email"
                                        placeholder="Enter your email"
                                        class="block w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                                        required>
                                </div>
                                <div>
                                    <label for="contact_subject" class="block font-semibold text-gray-800 mb-2">Inquiry
                                        Type:</label>
                                    <!-- *** MODIFICATION: Changed to select dropdown *** -->
                                    <div class="select-wrapper">
                                        <select id="contact_subject" name="contact_subject"
                                            class="block w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white"
                                            required>
                                            <option value="" disabled selected>Select inquiry type...</option>
                                            <option value="General Inquiry">General Inquiry</option>
                                            <option value="Course Information">Course Information</option>
                                            <option value="Order Issue / Support">Order Issue / Support</option>
                                            <option value="Online Consultancy Booking">Online Consultancy Booking
                                            </option>
                                            <option value="Online Full Training Inquiry">Online Full Training Inquiry
                                            </option>
                                            <option value="Onsite Corporate Training">Onsite Corporate Training</option>
                                            <option value="Offline Training Inquiry">Offline Training Inquiry</option>
                                            <option value="Technical Support">Technical Support</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- Right Column -->
                            <div class="flex flex-col">
                                <label for="contact_message"
                                    class="block font-semibold text-gray-800 mb-2">Message:</label>
                                <textarea id="contact_message" name="contact_message"
                                    placeholder="Your question or message..."
                                    class="block w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 flex-grow"
                                    rows="8" required></textarea>
                            </div>
                        </div>

                        <div class="text-right">
                            <!-- *** MODIFICATION: Changed button to orange *** -->
                            <button type="submit" id="contact-submit-btn"
                                class="w-full md:w-auto bg-orange-500 text-white font-semibold px-8 py-3 rounded-lg hover:bg-orange-600 transition duration-300">
                                Send Message
                            </button>
                        </div>
                        <div id="contact-form-message" class="hidden mt-4 p-4 rounded-lg text-center"></div>
                    </form>
                </div>

                <div class="mt-12 text-gray-500 text-sm text-center"> <!-- Removed unused sections here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-8 text-center">
            <img src="assets/seekersden-logo.png" alt="SeekersDen Logo" class="h-12 w-auto mx-auto">
            <p class="mt-4 text-gray-400">Â© 2025 SeekersDen. All rights reserved.</p>
            <p class="mt-1 text-gray-400">Mangaluru, Karnataka, India</p>

            <div class="mt-4 pt-4 border-t border-gray-700">
                <a href="terms.html" class="text-gray-400 hover:text-white px-3 py-2 text-sm">Terms</a>
                <span class="text-gray-500">|</span>
                <a href="refund.html" class="text-gray-400 hover:text-white px-3 py-2 text-sm">Refund Policy</a>
                <span class="text-gray-500">|</span>
                <a href="shipping.html" class="text-gray-400 hover:text-white px-3 py-2 text-sm">Shipping Policy</a>
                <!-- *** ADDED: Privacy Policy link for compliance *** -->
                <span class="text-gray-500">|</span>
                <a href="privacy.html" class="text-gray-400 hover:text-white px-3 py-2 text-sm">Privacy Policy</a>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA ---

        const courseData = [
            {
                module: "Module 1: Foundations & Baremetal",
                description: "Build an unshakable foundation in microcontroller hardware and the essential bare-metal C programming techniques needed to control it.",
                levels: [
                    { name: "Level 1: Hardware Fundamentals", duration: "4 Sessions (1-2 Weeks)", topics: ["Introduction to ARM Architecture and the STM32 Development Environment.", "Circuit construction, GPIO control for LEDs, and reading switches.", "Implementing hardware interrupts for efficient input handling.", "Utilizing peripherals: ADC for analog input, PWM for output, and Timers."] },
                    { name: "Level 2: Communication Protocols", duration: "4 Sessions (1-2 Weeks)", topics: ["Fundamentals of serial and parallel digital communication.", "Interfacing with character LCDs using parallel data transfer.", "Mastering asynchronous serial communication with UART.", "Implementing synchronous serial protocols: SPI and I2C."] },
                    { name: "Level 3: Interfacing with the World", duration: "4 Sessions (1-2 Weeks)", topics: ["Interfacing with a variety of common sensors (e.g., temperature, light).", "Understanding DC and Stepper motor principles and control techniques.", "Driving motors effectively using H-Bridge circuits.", "Introduction to Printed Circuit Board (PCB) design concepts."] },
                    { name: "Level 4: Software Fundamentals", duration: "4 Sessions (1-2 Weeks)", topics: ["Mastering advanced C concepts like pointers and function pointers.", "Applying bit manipulation techniques for efficient hardware control.", "Designing and implementing robust state machines for event-driven systems.", "Introduction to creating custom, reusable driver libraries."] },
                ],
                whoFor: [
                    "<strong class='font-semibold text-gray-800'>Junior Engineers (1-3 years):</strong> Who want to build a strong, foundational understanding of microcontroller hardware and bare-metal C programming.",
                    "<strong class='font-semibold text-gray-800'>Computer Science Students:</strong> Seeking to bridge the gap between software theory and real-world hardware application.",
                    "<strong class='font-semibold text-gray-800'>Hobbyists and Makers:</strong> Who want to move beyond basic Arduino sketches to professional, register-level C programming techniques.",
                    "<strong class='font-semibold text-gray-800'>Professionals Transitioning:</strong> From other fields (like web or enterprise software) who need a ground-up introduction to embedded systems."
                ],
                workbook: {
                    image: "assets/M1.png",
                    description: "The Module 1 Workbook is your self-paced, lifetime-access guide. It contains detailed instructions for every lab, from blinking an LED to register-level C programming, complete circuit diagrams, the full hardware parts list, and complete source code for all labs.",
                    product_slug: "module-1-workbook",
                    instamojo_id: "6723363"
                },
                hardware: {
                    introText: "The heart of your Module 1 Hardware Kit is the <strong class='font-semibold text-gray-800'>STM32 NUCLEO-L476RG</strong> development board. This is a powerful and versatile platform from STMicroelectronics, perfect for learning and prototyping.",
                    name: "NUCLEO-L476RG",
                    whyTitle: "Why the STM32 Platform?",
                    whyText: "The STMicroelectronics STM32 family is the <strong class='font-semibold text-gray-800'>most popular and widely-used ARM Cortex-M platform in the world</strong>. By learning on this hardware, you gain direct experience with the tools and architecture used in countless commercial products, making your skills highly relevant in the industry.",
                    image: "assets/module1-hw.png",
                    product_slug: "module-1-kit-test",
                    instamojo_id: "6723362",
                    diy: "STM32 Nucleo-64 (NUCLEO-L476RG)"
                }
            },
            {
                module: "Module 2: RTOS & IoT",
                description: "Learn to manage real-time complexity using a Real-Time Operating System and to build modern, connected devices.",
                levels: [
                    { name: "Level 1: RTOS Fundamentals", duration: "4 Sessions (1-2 Weeks)", topics: ["Core concepts of Real-Time Operating Systems: tasks, states, and scheduling.", "Getting started with the FreeRTOS ecosystem and configuration.", "Creating, deleting, and managing tasks and their priorities.", "Understanding different scheduling policies and their trade-offs."] },
                    { name: "Level 2: RTOS Communication", duration: "4 Sessions (1-2 Weeks)", topics: ["Inter-task communication and data transfer using Queues.", "Synchronization between tasks and interrupts using Semahores.", "Protecting shared resources with Mutexes.", "Understanding and solving common concurrency problems like priority inversion."] },
                    { name: "Level 3: Introduction to IoT & Networking", duration: "4 Sessions (1-2 Weeks)", topics: ["Fundamentals of computer networking: IP, TCP, UDP, and sockets.", "Introduction to common IoT hardware like Wi-Fi and Ethernet modules.", "Understanding the `client-server` model for connected devices.", "Securing embedded devices with basic principles of network security."] },
                    { name: "Level 4: Building a Connected Device", duration: "4 Sessions (1-2 Weeks)", topics: ["Introduction to the MQTT protocol for lightweight IoT communication.", "Sending sensor data from your device to a public MQTT broker.", "Receiving commands from the cloud to control your device.", "Architecting a complete sensor-to-cloud IoT application."] },
                ],
                whoFor: [
                    "<strong class='font-semibold text-gray-800'>Embedded Developers:</strong> Who find their bare-metal projects are becoming too complex and need to manage multiple tasks efficiently.",
                    "<strong class='font-semibold text-gray-800'>Engineers:</strong> Who need to build responsive, multi-threaded applications and understand core RTOS concepts like tasks, queues, and mutexes.",
                    "<strong class='font-semibold text-gray-800'>IoT Aspirants:</strong> Who want to learn how to connect their hardware projects to the internet and cloud services using protocols like MQTT.",
                    "<strong class='font-semibold text-gray-800'>Advanced Hobbyists:</strong> Looking to build more sophisticated projects that can handle multiple sensors and communication streams simultaneously."
                ],
                workbook: {
                    image: "assets/M2.png",
                    description: "The Module 2 Workbook guides you through managing real-time complexity. You'll learn FreeRTOS concepts like tasks, queues, and mutexes, and build a complete sensor-to-cloud IoT project using Wi-Fi and MQTT. Includes all source code.",
                    product_slug: "module-2-workbook",
                    instamojo_id: "6724704"
                },
                hardware: {
                    introText: "The heart of your Module 2 Hardware Kit is the <strong class='font-semibold text-gray-800'>STM32 B-L475E-IOT01A</strong>, a development board purpose-built for creating IoT applications. Its biggest advantage is the on-board connectivity and sensors, which allow you to start building connected devices right out of the box.",
                    name: "B-L475E-IOT01A Discovery Kit",
                    whyTitle: "Why This Board for RTOS & IoT?",
                    whyText: "This board is <strong class='font-semibold text-gray-800'>purpose-built for creating IoT applications</strong>. Its biggest advantage is the on-board connectivity and sensors, which allow you to start building connected devices right out of the box, eliminating complex wiring so you can focus on the software.",
                    image: "assets/module2-hw.png",
                    product_slug: "module-2-kit",
                    instamojo_id: "6724708",
                    diy: "B-L475E-IOT01A Discovery Kit"
                }
            },
            {
                module: "Module 3: FPGA Design",
                description: "Move beyond programming processors and learn to design your own custom digital hardware circuits using FPGAs and Hardware Description Languages (HDL).",
                levels: [
                    { name: "Level 1: Digital Logic Fundamentals", duration: "4 Sessions (1-2 Weeks)", topics: ["Core principles of digital logic: logic gates, Boolean algebra, and number systems.", "Designing and analyzing combinational logic circuits like adders and multiplexers.", "Understanding sequential logic circuits including flip-flops, latches, and registers.", "Introduction to designing and implementing Finite State Machines (FSMs)."] },
                    { name: "Level 2: Verilog/VHDL Programming", duration: "4 Sessions (1-2 Weeks)", topics: ["Introduction to a Hardware Description Language (Verilog or VHDL).", "Writing both structural and behavioral code to describe complex digital hardware.", "Developing comprehensive testbenches to simulate and verify your designs.", "Learning best practices for writing clean, efficient, and synthesizable HDL code."] },
                    { name: "Level 3: FPGA Implementation", duration: "4 Sessions (1-2 Weeks)", topics: ["Understanding the internal architecture of FPGAs and selecting a development board.", "Using a professional FPGA toolchain (e.g., Xilinx Vivado or Intel Quartus).", "Mastering the complete design flow:. synthesis, place-and-route, and timing analysis.", "Programming your hardware design onto a physical FPGA board and testing it in real-time."] },
                    { name: "Level 4: System-on-Chip (SoC) Design", duration: "4 Sessions (1-2 Weeks)", topics: ["Integrating pre-built Intellectual Property (IP) cores into your design.", "Interfacing your custom FPGA logic with an embedded soft-core or hard-core processor.", "Designing a custom AXI peripheral and connecting it to a system bus.", "Introduction to High-Level Synthesis (HLS) and advanced on-chip debugging techniques."] },
                ],
                whoFor: [
                    "<strong class='font-semibold text-gray-800'>Software & Embedded Engineers:</strong> Who are limited by processors and want to learn how to design custom hardware for high-performance applications.",
                    "<strong class='font-semibold text-gray-800'>Developers:</strong> Who want to transition from a software role into a digital design or FPGA engineering career path.",
                    "<strong class='font-semibold text-gray-800'>Electronics Students:</strong> Who want practical, hands-on experience with a Hardware Description Language (Verilog/VHDL) and professional FPGA toolchains.",
                    "<strong class='font-semibold text-gray-800'>High-Performance Hobbyists:</strong> With projects requiring high-speed parallel processing, like custom retro-computing, audio, or video processing."
                ],
                workbook: {
                    image: "assets/M3.png",
                    description: "The Module 3 Workbook takes you beyond software. You will learn to design your own custom digital hardware circuits using a Hardware Description Language (Verilog/VHDL) and implement them on an FPGA, mastering the complete design flow from synthesis to testing. Includes all source code.",
                    product_slug: "module-3-workbook",
                    instamojo_id: "6724706"
                },
                hardware: {
                    introText: "The heart of your Module 3 Hardware Kit is the <strong class='font-semibold text-gray-800'>Digilent Arty S7-25</strong>, a powerful yet affordable board featuring a Xilinx Spartan-7 FPGA. It's the perfect platform for learning the industry-standard AMD-Xilinx toolchain.",
                    name: "Digilent Arty S7-25",
                    whyTitle: "Why the Arty S7-25?",
                    whyText: "This board is the perfect platform for learning the <strong class='font-semibold text-gray-800'>industry-standard AMD-Xilinx toolchain</strong>. While microcontrollers execute software sequentially, FPGAs allow you to design hardware that processes data in a truly parallel fashion, offering massive performance gains.",
                    image: "assets/module3-hw.png",
                    product_slug: "module-3-kit",
                    instamojo_id: "6724709",
                    diy: "Digilent Arty Spartan-7 (Arty S7-25)"
                }
            },
            {
                module: "Module 4: Embedded Linux",
                description: "Master the most powerful and complex platform in embedded systems, preparing for senior-level roles and system architecture.",
                levels: [
                    { name: "Level 1: Linux Fundamentals for Embedded", duration: "4 Sessions (1-2 Weeks)", topics: ["Understanding the Embedded Linux architecture: kernel space vs. user space.", "Detailed exploration of the Linux boot process on an embedded board.", "Setting up a professional cross-compilation toolchain.", "Basic command-line navigation and system administration."] },
                    { name: "Level 2: Device Drivers and BSP", duration: "4 Sessions (1-2 Weeks)", topics: ["Writing and debugging basic character device drivers.", "Understanding the role of the Device Tree in modern Embedded Linux.", "Configuring and customizing the U-Boot bootloader.", "Introduction to the Board Support Package (BSP) concept."] },
                    { name: "Level 3: Inter-Process Communication", duration: "4 Sessions (1-2 Weeks)", topics: ["Communicating between processes using Pipes and FIFOs.", "Implementing robust messaging with POSIX and System V Message Queues.", "High-speed data exchange using Shared Memory.", "Process synchronization using semaphores and mutexes in user space."] },
                    { name: "Level 4: Advanced Linux Applications", duration: "4 Sessions (1-2 Weeks)", topics: ["Introduction to Real-time Linux (PREEMPT_RT).", "Advanced system debugging and profiling tools (gdb, perf, ftrace).", "Building a custom, minimal Linux distribution with the Yocto Project.", "Developing complex, multi-threaded applications in the Linux user space."] },
                ],
                whoFor: [
                    "<strong class='font-semibold text-gray-800'>Experienced Embedded Engineers:</strong> Who need to master Linux to work on complex products like networking gateways, IoT hubs, and automotive systems.",
                    "<strong class='font-semibold text-gray-800'>Developers aiming for an Architect role:</strong> As mastering the top of the embedded stack is essential for becoming a 'Full Stack IoT Architect'.",
                    "<strong class='font-semibold text-gray-800'>System Administrators:</strong> Or enterprise Linux developers who want to specialize their skills for the embedded domain.",
                    "<strong class='font-semibold text-gray-800'>System Builders:</strong> Who want to learn how to create a complete, custom Linux OS from the ground up using professional tools."
                ],
                workbook: {
                    image: "assets/M4.png",
                    description: "The Module 4 Workbook teaches you to master Embedded Linux. You'll learn to customize bootloaders, write device drivers, understand the Yotco Project, and build a- complete custom Linux distribution from scratch for a powerful MPU. Includes all source code.",
                    product_slug: "module-4-workbook",
                    instamojo_id: "6724707"
                },
                hardware: {
                    introText: "The heart of your Module 4 Hardware Kit is the <strong class='font-semibold text-gray-800'>STM32MP157C-DK2 Discovery Kit</strong>, a development board purpose-built for creating IoT applications. Its biggest advantage is the on-board connectivity and sensors, which allow you to start building connected devices right out of the box.",
                    name: "STM32MP1 Discovery Kit",
                    whyTitle: "Why Not a Raspberry Pi?",
                    whyText: "A Raspberry Pi is a great tool, but it's designed to be easy to use like a desktop, hiding the low-level details. Our chosen platform, the <strong class='font-semibold text-gray-800'>STM32MP1</strong>, is a superior learning. <strong class='font-semibold text-gray-800'>We teach you to create the magic, not just use it.</strong>",
                    image: "assets/module4-hw.png",
                    product_slug: "module-4-kit",
                    instamojo_id: "6724710",
                    diy: "STM32MP1 Discovery Kit (STM32MP157C-DK2)"
                }
            }
        ];

        const faqData = [
            { question: "What is the 'Eagle's Tour' philosophy?", answer: "Our goal is to give you a high-level map of the entire embedded systems landscape, from hardware to cloud. We teach you the fundamentals of each key domain so you understand how they fit together. This creates adaptable, T-shaped engineers who can tackle any challenge, rather than just knowing a single niche." },
            { question: "Is this program self-paced, or are there live classes?", answer: "This is a fully self-paced program. The digital workbooks are your primary guide, allowing you to learn on your own schedule. The online consultancy sessions are optional and can be booked whenever you need extra help or guidance." },
            { question: "Do I need any prior experience?", answer: "No, the program is designed to take you from the ground up, starting with Module 1. While basic programming knowledge in C is helpful, it is not mandatory. We'll guide you through every step." },
            { question: "How do the Online Consultancy Sessions work?", answer: "You can book sessions in hourly blocks. These are small-group (max 4 students), live video calls with the instructor where you can ask in-depth questions, get help with difficult topics, review your code, or discuss career paths." }
        ];

        // --- GLOBAL STATE ---
        let currentSubTab = 'idealFor'; // Default to 'idealFor'

        // --- *** FIX: Define variables in the outer scope *** ---
        let moduleTabsContainer, contentWrapper, faqContainer, mobileMenuButton, mobileMenu, desktopNav;

        // --- Instamojo Script Logic ---
        function discoverInstamojoButtons(retryCount = 0) {
            if (window.Instamojo && typeof window.Instamojo.discover === 'function') {
                window.Instamojo.discover();
            } else if (retryCount < 5) {
                setTimeout(() => {
                    discoverInstamojoButtons(retryCount + 1);
                }, 100);
            }
        }

        function loadInstamojoScript(forceReload = false) {
            const existingScript = document.getElementById('instamojo-script');

            if (forceReload && existingScript) {
                existingScript.remove();
                if (window.Instamojo) {
                    delete window.Instamojo;
                }
            } else if (existingScript) {
                return;
            }

            const script = document.createElement('script');
            script.id = 'instamojo-script';
            script.src = 'https://manage.instamojo.com/assets/js/pay_button/button.min.js';
            script.onload = () => {
                discoverInstamojoButtons();
            };
            document.body.appendChild(script);
        }
        // --- End Instamojo Script Logic ---


        // --- FUNCTIONS ---

        function renderContent(moduleIndex) {
            const moduleData = courseData[moduleIndex];

            const levelsHtml = moduleData.levels.map((level, i) => `
                <div class="level-card mb-6 pb-6 ${i < moduleData.levels.length - 1 ? 'border-b border-gray-200' : ''}">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800">${level.name}</h3>
                            <p class="text-sm text-gray-500 mt-1">${level.duration}</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <h4 class="semibold text-lg mb-3">Topics Covered:</h4>
                        <ul class="space-y-2">
                            ${level.topics.map(topic => `
                                <li class="flex items-start">
                                    <svg class="w-5 h-5 text-green-500 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    <span>${topic}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `).join('');

            const whoForHtml = `<ul class="list-none space-y-3">
                ${moduleData.whoFor.map(item => {
                const formattedItem = item;
                return `
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <span class="text-gray-600">${formattedItem}</span>
                        </li>
                    `
            }).join('')}
            </ul>`;


            const hardwareKitHtml = `
                <div>
                    <h3 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <i class="fas fa-microchip text-2xl text-orange-500 mr-3"></i>
                        Module ${moduleIndex + 1} Hardware
                    </h3>

                    <div class="bg-gray-100 p-4 rounded-lg mb-6">
                        <p class="text-gray-600 mb-2">
                            Once you have the workbook, you can perform the labs. You have two options for hardware:
                        </p>
                        <ul class="list-disc list-outside text-gray-600 space-y-2 ml-5">
                            <li>
                                <strong class="font-semibold text-gray-800">Purchase Official Kit:</strong> We offer the official, pre-tested kit which includes every component you need.
                            </li>
                            <li>
                                <strong class="font-semibold text-gray-800">DIY Sourcing:</strong> The workbook contains a complete parts list. You can source the main board (e.g., <strong class="font-semibold text-gray-800">${moduleData.hardware.diy}</strong>) and all other components yourself.
                            </li>
                        </ul>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-8 items-start">
                        <div class="md:w-1/3 flex-shrink-0">
                            <img src="assets/module${moduleIndex + 1}-hw.png" alt="${moduleData.hardware.name}" class="rounded-lg shadow-md w-full h-auto object-cover border border-gray-200">
                        </div>
                        <div class="md:w-2/3 space-y-4">
                             <p class="text-lg text-gray-600">${moduleData.hardware.introText}</p>
                             <h4 class="font-semibold text-xl text-orange-500">${moduleData.hardware.whyTitle}</h4>
                             <p class="text-gray-600">${moduleData.hardware.whyText}</p>
                             <!-- *** REMOVED PRICE DISPLAY FOR CENTRAL CONTROL *** -->
                            <div class="pt-4 flex justify-center md:justify-start">
                                <a href="https://seekersden.myinstamojo.com/product/${moduleData.hardware.product_slug}/" 
                                   data-store-name="seekersden" 
                                   data-domain="https://seekersden.myinstamojo.com" 
                                   data-id="${moduleData.hardware.instamojo_id}" 
                                   rel="im-new-checkout" 
                                   data-text="Get the Official Hardware Kit" 
                                   data-css-style="background:#15803d; color:#ffffff; font-weight:600; padding-left:1.5rem; padding-right:1.5rem; padding-top:0.75rem; padding-bottom:0.75rem; border-radius:0.5rem;" 
                                   data-layout="vertical">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            const moduleWorkbookHtml = `
                <div>
                    <h3 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                         <i class="fas fa-book-open text-2xl text-orange-500 mr-3"></i>
                        Module ${moduleIndex + 1} Workbook
                    </h3>

                    <div class="bg-gray-100 p-4 rounded-lg mb-6">
                        <p class="text-gray-600">
                            We recommend starting here. The workbook is a low-cost, immediately available digital download. It provides the complete "Eagle's Tour" of the subject and contains the complete curriculum, all lab instructions, the complete hardware parts list for the DIY path, and complete source code for all labs.
                        </p>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-8 items-start">
                        <div class="md:w-1/3 flex-shrink-0">
                            <img src="assets/M${moduleIndex + 1}.png" alt="Module ${moduleIndex + 1} Workbook" class="rounded-lg shadow-md w-full h-auto object-cover border border-gray-200">
                        </div>
                        <div class="md:w-2/3 space-y-4 flex flex-col"> 
                            <div class="flex-grow"> 
                                <p class="text-lg text-gray-600">
                                    ${moduleData.workbook.description}
                                </p>
                            </div>
                             <!-- *** REMOVED PRICE DISPLAY FOR CENTRAL CONTROL *** -->
                            <div class="pt-4 flex justify-center md:justify-start">
                                <a href="https://seekersden.myinstamojo.com/product/${moduleData.workbook.product_slug}/" 
                                   data-store-name="seekersden" 
                                   data-domain="https://seekersden.myinstamojo.com" 
                                   data-id="${moduleData.workbook.instamojo_id}" 
                                   rel="im-new-checkout" 
                                   data-text="Get the Workbook" 
                                   data-css-style="background:#15803d; color:#ffffff; font-weight:600; padding-left:1.5rem; padding-right:1.5rem; padding-top:0.75rem; padding-bottom:0.75rem; border-radius:0.5rem;" 
                                   data-layout="vertical">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            const contentHTML = `
                <div>
                    <h2 class="text-3xl font-bold text-gray-800">${moduleData.module}</h2>
                    <p class="mt-1 text-gray-600">${moduleData.description}</p>
                    
                    <div class="mt-6 border-b border-gray-200">
                        <div class="flex flex-wrap -mb-px gap-x-4">
                            <button class="curriculum-sub-tab px-4 py-2 text-sm font-semibold rounded-t-md ${currentSubTab === 'idealFor' ? 'tab-active' : 'text-gray-600 hover:bg-orange-50'}" data-tab="idealFor">
                                Ideal For
                            </button>
                            <button class="curriculum-sub-tab px-4 py-2 text-sm font-semibold rounded-t-md ${currentSubTab === 'curriculum' ? 'tab-active' : 'text-gray-600 hover:bg-orange-50'}" data-tab="curriculum">
                                Curriculum
                            </button>
                            <button class="curriculum-sub-tab px-4 py-2 text-sm font-semibold rounded-t-md ${currentSubTab === 'workbook' ? 'tab-active' : 'text-gray-600 hover:bg-orange-50'}" data-tab="workbook">
                                Workbook
                            </button>
                            <button class="curriculum-sub-tab px-4 py-2 text-sm font-semibold rounded-t-md ${currentSubTab === 'hardware' ? 'tab-active' : 'text-gray-600 hover:bg-orange-50'}" data-tab="hardware">
                                Hardware
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <div class="sub-tab-content ${currentSubTab === 'idealFor' ? '' : 'hidden'}" data-content="idealFor">
                            ${whoForHtml}
                        </div>
                        <div class="sub-tab-content ${currentSubTab === 'curriculum' ? '' : 'hidden'}" data-content="curriculum">
                            ${levelsHtml}
                        </div>
                        <div class="sub-tab-content ${currentSubTab === 'workbook' ? '' : 'hidden'}" data-content="workbook">
                            ${moduleWorkbookHtml}
                        </div>
                        <div class="sub-tab-content ${currentSubTab === 'hardware' ? '' : 'hidden'}" data-content="hardware">
                            ${hardwareKitHtml}
                        </div>
                    </div>
                </div>
            `;

            contentWrapper.innerHTML = contentHTML;
            addModuleSubTabListeners();

            if (currentSubTab === 'workbook' || currentSubTab === 'hardware') {
                requestAnimationFrame(() => {
                    loadInstamojoScript(true);
                });
            } else {
                loadInstamojoScript();
            }
        }

        function addModuleSubTabListeners() {
            const subTabs = contentWrapper.querySelectorAll('.curriculum-sub-tab');
            const subContents = contentWrapper.querySelectorAll('.sub-tab-content');

            subTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.dataset.tab;
                    currentSubTab = tabName; // Update global state

                    subTabs.forEach(t => t.classList.remove('tab-active', 'text-gray-600', 'hover:bg-orange-50'));
                    tab.classList.add('tab-active');
                    subTabs.forEach(t => {
                        if (!t.classList.contains('tab-active')) {
                            t.classList.add('text-gray-600', 'hover:bg-orange-50');
                        }
                    });

                    // *** FIX: Corrected the content display logic ***
                    subContents.forEach(c => c.classList.add('hidden'));
                    const activeContent = contentWrapper.querySelector(`[data-content="${tabName}"]`);
                    if (activeContent) { // Safety check
                        activeContent.classList.remove('hidden');
                    }

                    if (tabName === 'workbook' || tabName === 'hardware') {
                        requestAnimationFrame(() => {
                            loadInstamojoScript(true);
                        });
                    }
                });
            });
        }

        function initializeCourseSection() {
            moduleTabsContainer.innerHTML = courseData.map((data, index) => `
                <li>
                    <button 
                        class="module-tab w-full text-left px-6 py-4 font-semibold rounded-lg transition duration-300 ${index === 0 ? 'module-tab-active' : 'bg-white hover:bg-orange-50 text-gray-700'}"
                        data-module-index="${index}">
                        ${data.module}
                    </button>
                </li>
            `).join('');

            document.querySelectorAll('.module-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const moduleIndex = parseInt(tab.dataset.moduleIndex);

                    document.querySelectorAll('.module-tab').forEach(t => {
                        t.classList.remove('module-tab-active');
                        t.classList.add('bg-white', 'hover:bg-orange-50', 'text-gray-700');
                    });
                    tab.classList.add('module-tab-active');
                    tab.classList.remove('bg-white', 'hover:bg-orange-50', 'text-gray-700');

                    renderContent(moduleIndex);
                });
            });

            renderContent(0);
        }

        function initializeFAQ() {
            faqContainer.innerHTML = faqData.map((item) => `
                <div class="bg-white border border-gray-200 rounded-lg">
                    <h2>
                        <button type"button" class="faq-question flex items-center justify-between w-full p-6 font-semibold text-left text-gray-800">
                            <span>${item.question}</span>
                            <svg class="w-6 h-6 shrink-0 faq-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                    </h2>
                    <div class="faq-answer">
                        <div class="p-6 pt-0">
                            <p class="text-gray-600">${item.answer}</p>
                        </div>
                    </div>
                </div>
            `).join('');

            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.parentElement.nextElementSibling;
                    const arrow = question.querySelector('.faq-arrow');
                    const isOpen = answer.style.maxHeight && answer.style.maxHeight !== '0px';

                    document.querySelectorAll('.faq-answer').forEach(ans => {
                        if (ans !== answer) {
                            ans.style.maxHeight = '0px';
                            ans.previousElementSibling.querySelector('.faq-arrow').classList.remove('rotate-180');
                        }
                    });

                    if (isOpen) {
                        answer.style.maxHeight = '0px';
                        arrow.classList.remove('rotate-180');
                    } else {
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                        arrow.classList.add('rotate-180');
                    }
                });
            });
        }

        function initializeServiceTabs() {
            const serviceTabs = document.querySelectorAll('.service-tab-button');
            const serviceContents = document.querySelectorAll('.service-tab-content');

            serviceTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.dataset.tab;

                    // Update button active state
                    serviceTabs.forEach(t => t.classList.remove('tab-active', 'text-gray-600', 'hover:bg-orange-50'));
                    tab.classList.add('tab-active');
                    serviceTabs.forEach(t => {
                        if (!t.classList.contains('tab-active')) {
                            t.classList.add('text-gray-600', 'hover:bg-orange-50');
                        }
                    });

                    // Show/hide content
                    serviceContents.forEach(c => {
                        if (c.dataset.content === tabName) {
                            c.classList.remove('hidden');
                        } else {
                            c.classList.add('hidden');
                        }
                    });

                    // *** MODIFICATION: Removed Instamojo script loader from this tab ***
                    /*
                    if (tabName === 'online-consult') {
                         requestAnimationFrame(() => {
                            loadInstamojoScript(true);
                        });
                    }
                    */
                });
            });
        }

        // --- EVENT LISTENERS & INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {

            // --- *** FIX: Assign variables AFTER DOM is loaded *** ---
            moduleTabsContainer = document.getElementById('module-tabs');
            contentWrapper = document.getElementById('course-content-wrapper');
            faqContainer = document.getElementById('faq-container');
            mobileMenuButton = document.getElementById('mobile-menu-button');
            mobileMenu = document.getElementById('mobile-menu');
            desktopNav = document.getElementById('desktop-nav');


            // *** FIX 1: Ensure EmailJS Initialization is FIRST for reliability ***
            emailjs.init("DfU1FTDN2YE_8hY-r");

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            initializeCourseSection();
            initializeFAQ();
            initializeServiceTabs();

            loadInstamojoScript();

            // --- Handle Offline Interest Form Submission ---
            const offlineForm = document.getElementById('offline-interest-form');
            const formMessage = document.getElementById('form-message');
            const offlineSubmitButton = offlineForm?.querySelector('button[type="submit"]');

            if (offlineForm) {
                offlineForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const location = offlineForm.querySelector('input[name="offline_location"]:checked')?.value;
                    const timing = offlineForm.querySelector('input[name="offline_timing"]:checked')?.value;
                    const email = offlineForm.querySelector('input[name="email"]')?.value.trim() || '';

                    let errorMessage = '';

                    if (!location) {
                        errorMessage = 'Please select your preferred location.';
                    } else if (!timing) {
                        errorMessage = 'Please select your preferred timing.';
                    } else if (!email) {
                        errorMessage = 'Please enter your email address.';
                    } else if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                        errorMessage = 'Please enter a valid email address.';
                    }

                    if (errorMessage) {
                        formMessage.textContent = errorMessage;
                        formMessage.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 text-red-700 border border-red-300';
                        formMessage.classList.remove('hidden');
                        return;
                    }

                    const locationDisplay = location === 'bengaluru' ? 'Bengaluru' : location === 'mangaluru' ? 'Mangaluru' : location;
                    const timingDisplay = timing.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());

                    if (offlineSubmitButton) {
                        offlineSubmitButton.disabled = true;
                        offlineSubmitButton.textContent = 'Sending...';
                    }

                    const templateParams = {
                        to_email: 'info@seekersden.in',
                        from_email: email,
                        subject: 'Interest in Full In-Person Training',
                        location: locationDisplay,
                        timing: timingDisplay,
                        user_email: email,
                        message: `Hello,\n\nI am interested in your Full In-Person Training program.\n\nPreferred Location: ${locationDisplay}\nPreferred Timing: ${timingDisplay}\n\nMy Email: ${email}\n\nPlease contact me when a batch is formed.\n\nThank you!`
                    };

                    try {
                        // INSERING SERVICE_ID and OFFLINE TEMPLATE ID
                        await emailjs.send('service_7hppzcd', 'template_z14vx9a', templateParams);

                        formMessage.textContent = 'Thank you! Your interest has been submitted successfully. We will contact you when a batch is formed.';
                        formMessage.className = 'mt-4 p-4 rounded-lg text-center bg-green-100 text-green-700 border border-green-300';
                        formMessage.classList.remove('hidden');

                        setTimeout(() => {
                            offlineForm.reset();
                            formMessage.classList.add('hidden');
                            if (offlineSubmitButton) {
                                offlineSubmitButton.disabled = false;
                                offlineSubmitButton.textContent = 'Submit Interest';
                            }
                        }, 5000);
                    } catch (error) {
                        console.error('Email sending failed:', error);

                        // *** ENHANCED ERROR REPORTING ***
                        let detailedError = "a configuration error.";
                        if (error.status === 400 || error.status === 422) {
                            detailedError = `a bad request (check Template or Service ID). Status: ${error.status}`;
                        } else if (error.status === 401) {
                            detailedError = `an authentication error. Check Public Key or Service connection. Status: ${error.status}`;
                        }

                        formMessage.textContent = `Sorry, there was ${detailedError} Please try again or email us directly at info@seekersden.in.`;
                        formMessage.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 text-red-700 border border-red-300';
                        formMessage.classList.remove('hidden');

                        if (offlineSubmitButton) {
                            offlineSubmitButton.disabled = false;
                            offlineSubmitButton.textContent = 'Submit Interest';
                        }
                    }
                });
            }

            // --- *** MODIFICATION: Handle General Contact Form Submission *** ---
            const contactForm = document.getElementById('contact-form');
            const contactFormMessage = document.getElementById('contact-form-message');
            const contactSubmitButton = document.getElementById('contact-submit-btn');

            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const name = contactForm.querySelector('#contact_name').value.trim();
                    const email = contactForm.querySelector('#contact_email').value.trim();
                    const subject = contactForm.querySelector('#contact_subject').value;
                    const message = contactForm.querySelector('#contact_message').value.trim();

                    let errorMessage = '';
                    if (!name) {
                        errorMessage = 'Please enter your name.';
                    } else if (!email || !email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                        errorMessage = 'Please enter a valid email address.';
                    } else if (!subject) {
                        errorMessage = 'Please select an inquiry type.';
                    } else if (!message) {
                        errorMessage = 'Please enter your message.';
                    }

                    if (errorMessage) {
                        contactFormMessage.textContent = errorMessage;
                        contactFormMessage.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 text-red-700 border border-red-300';
                        contactFormMessage.classList.remove('hidden');
                        return;
                    }

                    if (contactSubmitButton) {
                        contactSubmitButton.disabled = true;
                        contactSubmitButton.textContent = 'Sending...';
                    }

                    const templateParams = {
                        to_email: 'info@seekersden.in',
                        from_name: name,
                        from_email: email,
                        subject: `Contact Form: ${subject}`, // Prepend "Contact Form:"
                        user_name: name,
                        user_email: email,
                        inquiry_type: subject, // Send the selected subject
                        message: message
                    };

                    try {
                        // INSERING SERVICE_ID and CONTACT TEMPLATE ID
                        await emailjs.send('service_7hppzcd', 'template_90ynns9', templateParams);

                        contactFormMessage.textContent = 'Thank you! Your message has been sent successfully. We will get back to you soon.';
                        contactFormMessage.className = 'mt-4 p-4 rounded-lg text-center bg-green-100 text-green-700 border border-green-300';
                        contactFormMessage.classList.remove('hidden');

                        setTimeout(() => {
                            contactForm.reset();
                            contactFormMessage.classList.add('hidden');
                            if (contactSubmitButton) {
                                contactSubmitButton.disabled = false;
                                contactSubmitButton.textContent = 'Send Message';
                            }
                        }, 5000);
                    } catch (error) {
                        console.error('Email sending failed:', error);

                        // *** ENHANCED ERROR REPORTING ***
                        let detailedError = "a configuration error.";
                        if (error.status === 400 || error.status === 422) {
                            detailedError = `a bad request (check Template or Service ID). Status: ${error.status}`;
                        } else if (error.status === 401) {
                            detailedError = `an authentication error. Check Public Key or Service connection. Status: ${error.status}`;
                        }

                        contactFormMessage.textContent = `Sorry, there was ${detailedError} Please try again or email us directly at info@seekersden.in.`;
                        contactFormMessage.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 text-red-700 border border-red-300';
                        contactFormMessage.classList.remove('hidden');

                        if (contactSubmitButton) {
                            contactSubmitButton.disabled = false;
                            contactSubmitButton.textContent = 'Send Message';
                        }
                    }
                });
            }

            // --- Copy Email Functionality ---
            const copyEmailBtn = document.getElementById('copy-email-btn');
            const emailText = document.getElementById('email-text');
            if (copyEmailBtn && emailText) {
                copyEmailBtn.addEventListener('click', async () => {
                    const email = emailText.textContent.trim();
                    try {
                        await navigator.clipboard.writeText(email);
                        const originalHTML = copyEmailBtn.innerHTML;
                        copyEmailBtn.innerHTML = `
                            <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        `;
                        copyEmailBtn.classList.add('text-green-500');
                        setTimeout(() => {
                            copyEmailBtn.innerHTML = originalHTML;
                            copyEmailBtn.classList.remove('text-green-500');
                        }, 2000);
                    } catch (err) {
                        const textArea = document.createElement('textarea');
                        textArea.value = email;
                        textArea.style.position = 'fixed';
                        textArea.style.opacity = '0';
                        document.body.appendChild(textArea);
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            const originalHTML = copyEmailBtn.innerHTML; // Need to define again for fallback
                            copyEmailBtn.innerHTML = `
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            `;
                            setTimeout(() => {
                                copyEmailBtn.innerHTML = originalHTML;
                            }, 2000);
                        } catch (fallbackErr) {
                            console.error('Failed to copy email:', fallbackErr);
                        }
                        document.body.removeChild(textArea);
                    }
                });
            }

            // --- Scrollspy for Nav Highlighting ---
            const sections = document.querySelectorAll('main section[id]');
            const desktopNavLinks = desktopNav.querySelectorAll('a');
            const mobileNavLinks = mobileMenu.querySelectorAll('a');

            const observerOptions = {
                root: null,
                rootMargin: '-50% 0px -50% 0px', // Active when section is in middle of viewport
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        const updateNav = (links) => {
                            links.forEach(link => {
                                link.classList.remove('nav-active');
                                if (link.getAttribute('href') === `#${id}`) {
                                    link.classList.add('nav-active');
                                }
                            });
                        };
                        updateNav(desktopNavLinks);
                        updateNav(mobileNavLinks);
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            // --- Animate on Scroll (AOS) ---
            const aosElements = document.querySelectorAll('[data-aos]');
            const aosObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        aosObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            aosElements.forEach(el => {
                aosObserver.observe(el);
            });
        });
    </script>

</body>

</html>
